<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Wed Apr 06 12:32:34 EDT 2011 -->
<TITLE>
DistributionManager (Oracle\u00AE Coherence Java API Reference)
</TITLE>

<META NAME="date" CONTENT="2011-04-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DistributionManager (Oracle\u00AE Coherence Java API Reference)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle&reg; Coherence Java API Reference<br>Release 3.7.0.0</b><br>E18683-01</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/tangosol/net/partition/DefaultKeyPartitioningStrategy.html" title="class in com.tangosol.net.partition"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/tangosol/net/partition/KeyAssociator.html" title="interface in com.tangosol.net.partition"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/tangosol/net/partition/DistributionManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DistributionManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.tangosol.net.partition</FONT>
<BR>
Interface DistributionManager</H2>
<HR>
<DL>
<DT><PRE>public interface <B>DistributionManager</B></DL>
</PRE>

<P>
A DistributionManager coordinates the distribution of partitions for a
 partitioned service.  The DistributionManager relies on a pluggable <A HREF="../../../../com/tangosol/net/partition/PartitionAssignmentStrategy.html" title="interface in com.tangosol.net.partition"><CODE>PartitionAssignmentStrategy</CODE></A> to analyze the current state of the partition
 usage, and formulate a desired distribution plan.  The DistributionManager
 is responsible for gathering and providing to the strategy the state
 necessary to make distribution decisions, as well as collecting and enacting
 the formulated distribution recommendations.
 <p>
 The DistributionManager provides a consistent and stable view of
 Service-related state for the duration of the call to <A HREF="../../../../com/tangosol/net/partition/PartitionAssignmentStrategy.html#analyzeDistribution()"><CODE>PartitionAssignmentStrategy.analyzeDistribution()</CODE></A>.
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>Coherence 3.7</DD>
<DT><B>Author:</B></DT>
  <DD>rhl 2010.10.22</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/tangosol/net/Member.html" title="interface in com.tangosol.net">Member</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/tangosol/net/partition/DistributionManager.html#getMember(int)">getMember</A></B>(int&nbsp;nMemberId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the ownership-enabled service member with the specified
 mini-id, or null if the member does not exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/tangosol/net/partition/PartitionSet.html" title="class in com.tangosol.net.partition">PartitionSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/tangosol/net/partition/DistributionManager.html#getOwnedPartitions(com.tangosol.net.Member, int)">getOwnedPartitions</A></B>(<A HREF="../../../../com/tangosol/net/Member.html" title="interface in com.tangosol.net">Member</A>&nbsp;member,
                   int&nbsp;iStore)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the set of partitions for which the specified member owns the
 specified storage index (replica).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/tangosol/net/partition/DistributionManager.html#getOwnershipLeavingMembers()">getOwnershipLeavingMembers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the set of ownership-enabled members in the partitioned
 service that are in the process of leaving.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/tangosol/net/partition/DistributionManager.html#getOwnershipMembers()">getOwnershipMembers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the set of ownership-enabled members in the partitioned service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/tangosol/net/partition/Ownership.html" title="class in com.tangosol.net.partition">Ownership</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/tangosol/net/partition/DistributionManager.html#getPartitionOwnership(int)">getPartitionOwnership</A></B>(int&nbsp;nPartition)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the Ownership information for the specified partition.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/tangosol/net/PartitionedService.html" title="interface in com.tangosol.net">PartitionedService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/tangosol/net/partition/DistributionManager.html#getService()">getService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the partitioned service for which this DistributionManager
 coordinates the distribution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/tangosol/net/partition/DistributionManager.html#suggest(com.tangosol.net.partition.PartitionSet, com.tangosol.net.partition.Ownership)">suggest</A></B>(<A HREF="../../../../com/tangosol/net/partition/PartitionSet.html" title="class in com.tangosol.net.partition">PartitionSet</A>&nbsp;parts,
        <A HREF="../../../../com/tangosol/net/partition/Ownership.html" title="class in com.tangosol.net.partition">Ownership</A>&nbsp;ownership)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suggest a distribution change for the specified set of partitions,
 indicating either primary or backup transfer (or both).</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getService()"><!-- --></A><H3>
getService</H3>
<PRE>
<A HREF="../../../../com/tangosol/net/PartitionedService.html" title="interface in com.tangosol.net">PartitionedService</A> <B>getService</B>()</PRE>
<DL>
<DD>Return the partitioned service for which this DistributionManager
 coordinates the distribution.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the partitioned service</DL>
</DD>
</DL>
<HR>

<A NAME="getMember(int)"><!-- --></A><H3>
getMember</H3>
<PRE>
<A HREF="../../../../com/tangosol/net/Member.html" title="interface in com.tangosol.net">Member</A> <B>getMember</B>(int&nbsp;nMemberId)</PRE>
<DL>
<DD>Return the ownership-enabled service member with the specified
 mini-id, or null if the member does not exist.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nMemberId</CODE> - the mini-id
<DT><B>Returns:</B><DD>the ownership-enabled service member with the specified
         mini-id, or null</DL>
</DD>
</DL>
<HR>

<A NAME="getOwnershipMembers()"><!-- --></A><H3>
getOwnershipMembers</H3>
<PRE>
java.util.Set <B>getOwnershipMembers</B>()</PRE>
<DL>
<DD>Return the set of ownership-enabled members in the partitioned service.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the set of ownership-enabled members</DL>
</DD>
</DL>
<HR>

<A NAME="getOwnershipLeavingMembers()"><!-- --></A><H3>
getOwnershipLeavingMembers</H3>
<PRE>
java.util.Set <B>getOwnershipLeavingMembers</B>()</PRE>
<DL>
<DD>Return the set of ownership-enabled members in the partitioned
 service that are in the process of leaving.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the set of ownership-enabled members that are leaving</DL>
</DD>
</DL>
<HR>

<A NAME="getOwnedPartitions(com.tangosol.net.Member, int)"><!-- --></A><H3>
getOwnedPartitions</H3>
<PRE>
<A HREF="../../../../com/tangosol/net/partition/PartitionSet.html" title="class in com.tangosol.net.partition">PartitionSet</A> <B>getOwnedPartitions</B>(<A HREF="../../../../com/tangosol/net/Member.html" title="interface in com.tangosol.net">Member</A>&nbsp;member,
                                int&nbsp;iStore)</PRE>
<DL>
<DD>Return the set of partitions for which the specified member owns the
 specified storage index (replica).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>member</CODE> - the member to determine the the ownership for<DD><CODE>iStore</CODE> - the storage index (zero for primary)
<DT><B>Returns:</B><DD>the set of partitions
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the backup number is non-positive or
         greater than the backup count for this partitioned service</DL>
</DD>
</DL>
<HR>

<A NAME="getPartitionOwnership(int)"><!-- --></A><H3>
getPartitionOwnership</H3>
<PRE>
<A HREF="../../../../com/tangosol/net/partition/Ownership.html" title="class in com.tangosol.net.partition">Ownership</A> <B>getPartitionOwnership</B>(int&nbsp;nPartition)</PRE>
<DL>
<DD>Return the Ownership information for the specified partition.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nPartition</CODE> - the partition to return the ownership for
<DT><B>Returns:</B><DD>Ownership information for the specified partition
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the partition number is negative or
         greater than the partition count for this partitioned service</DL>
</DD>
</DL>
<HR>

<A NAME="suggest(com.tangosol.net.partition.PartitionSet, com.tangosol.net.partition.Ownership)"><!-- --></A><H3>
suggest</H3>
<PRE>
void <B>suggest</B>(<A HREF="../../../../com/tangosol/net/partition/PartitionSet.html" title="class in com.tangosol.net.partition">PartitionSet</A>&nbsp;parts,
             <A HREF="../../../../com/tangosol/net/partition/Ownership.html" title="class in com.tangosol.net.partition">Ownership</A>&nbsp;ownership)</PRE>
<DL>
<DD>Suggest a distribution change for the specified set of partitions,
 indicating either primary or backup transfer (or both).  The desired
 transfer is specified as the ownership that would result from enacting the
 transfer.
 <p>
 Note: this method does not in any way enforce or guarantee that the
       specified transfers are performed; it merely provides advice
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parts</CODE> - the set of partitions to perform distribution on<DD><CODE>ownership</CODE> - the desired ownership</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle&reg; Coherence Java API Reference<br>Release 3.7.0.0</b><br>E18683-01</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/tangosol/net/partition/DefaultKeyPartitioningStrategy.html" title="class in com.tangosol.net.partition"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/tangosol/net/partition/KeyAssociator.html" title="interface in com.tangosol.net.partition"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/tangosol/net/partition/DistributionManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DistributionManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<center>Copyright &copy; 2000, 2011, Oracle and/or its affiliates. All rights reserved.</center>
</BODY>
</HTML>
