<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Wed Apr 06 12:32:49 EDT 2011 -->
<TITLE>
TransactionMap.Validator (Oracle\u00AE Coherence Java API Reference)
</TITLE>

<META NAME="date" CONTENT="2011-04-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TransactionMap.Validator (Oracle\u00AE Coherence Java API Reference)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle&reg; Coherence Java API Reference<br>Release 3.7.0.0</b><br>E18683-01</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/tangosol/util/Tree.html" title="class in com.tangosol.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/tangosol/util/TransactionMap.Validator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionMap.Validator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.tangosol.util</FONT>
<BR>
Interface TransactionMap.Validator</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../com/tangosol/run/jca/SimpleValidator.html" title="class in com.tangosol.run.jca">SimpleValidator</A></DD>
</DL>
<DL>
<DT><B>Enclosing interface:</B><DD><A HREF="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public static interface <B>TransactionMap.Validator</B></DL>
</PRE>

<P>
A callback interface used by TransactionMap implementations.
 <p/>
 By providing an implementation of this interface, it is possible to
 provide alternative strategies for verifying the correctness of
 concurrent execution of transactions.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/tangosol/util/TransactionMap.Validator.html#enlist(com.tangosol.util.TransactionMap, java.lang.Object)">enlist</A></B>(<A HREF="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</A>&nbsp;mapTx,
       java.lang.Object&nbsp;oKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enlist the resource with the specified transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/tangosol/util/TransactionMap.Validator.html#getNextValidator()">getNextValidator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrive the next Validator.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/tangosol/util/TransactionMap.Validator.html#setNextValidator(com.tangosol.util.TransactionMap.Validator)">setNextValidator</A></B>(<A HREF="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</A>&nbsp;v)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the next Validator.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/tangosol/util/TransactionMap.Validator.html#validate(com.tangosol.util.TransactionMap, java.util.Set, java.util.Set, java.util.Set, java.util.Set, java.util.Set)">validate</A></B>(<A HREF="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</A>&nbsp;mapTx,
         java.util.Set&nbsp;setInsert,
         java.util.Set&nbsp;setUpdate,
         java.util.Set&nbsp;setDelete,
         java.util.Set&nbsp;setRead,
         java.util.Set&nbsp;setPhantom)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validate that the content of the TransactionMap is "fit" to be
 committed into the base map.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="enlist(com.tangosol.util.TransactionMap, java.lang.Object)"><!-- --></A><H3>
enlist</H3>
<PRE>
void <B>enlist</B>(<A HREF="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</A>&nbsp;mapTx,
            java.lang.Object&nbsp;oKey)</PRE>
<DL>
<DD>Enlist the resource with the specified transaction.
 <p/>
 This method is invoked for all resources that are "used" by the
 transaction immediately before the resource value is copied into
 the local map.
 <p/>
 It is this method's responsibility to call a next Validator in the
 validation chain
 (i.e. <code>getNextValidator().enlist(map, okey);</code>)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mapTx</CODE> - the TransactionMap to enlist the resource with<DD><CODE>oKey</CODE> - the resource key to be enlisted with the transaction</DL>
</DD>
</DL>
<HR>

<A NAME="validate(com.tangosol.util.TransactionMap, java.util.Set, java.util.Set, java.util.Set, java.util.Set, java.util.Set)"><!-- --></A><H3>
validate</H3>
<PRE>
void <B>validate</B>(<A HREF="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</A>&nbsp;mapTx,
              java.util.Set&nbsp;setInsert,
              java.util.Set&nbsp;setUpdate,
              java.util.Set&nbsp;setDelete,
              java.util.Set&nbsp;setRead,
              java.util.Set&nbsp;setPhantom)
              throws java.util.ConcurrentModificationException</PRE>
<DL>
<DD>Validate that the content of the TransactionMap is "fit" to be
 committed into the base map.
 <p/>
 This method is invoked during "prepare" phase after all the resources
 involved in this transaction are successfully locked at the base map.
 The Validator is expected to retrieve the "old" and "new" values
 (using <code>map.get(oKey)</code>, <code>map.getBaseMap().get(oKey)</code>)
 and use the information gathered during "enlist" calls to make
 the determination whether or not commit should be allowed to proceed.
 <p/>
 To force a roll back it should throw an exception indicating the
 reason this transaction cannot be committed.
 When that happens, the sets are expected to hold just the keys
 of the "offending" resources.
 <p/>
 It is this method's responsibility to call a next Validator in the
 validation chain (i.e. <code>
 getNextValidator().validate(map, setI, setU, setD, setR, setF);</code>)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mapTx</CODE> - the TransactionMap that is being prepared<DD><CODE>setInsert</CODE> - the set of inserted resources<DD><CODE>setUpdate</CODE> - the set of updated resources<DD><CODE>setDelete</CODE> - the set of deleted resources<DD><CODE>setRead</CODE> - the set of read resources. It is always empty for
                   TRANSACTION_GET_COMMITTED isolation level.<DD><CODE>setPhantom</CODE> - the set of phantom resources, that is resources that
                   were added to the base map, but were not known to the
                   transaction. This set can be not empty only for
                   TRANSACTION_GET_SERIALIZED isolation level.
<DT><B>Throws:</B>
<DD><CODE>java.util.ConcurrentModificationException</CODE> - if the validator detects
            an unresolveable conflict between the resources</DL>
</DD>
</DL>
<HR>

<A NAME="getNextValidator()"><!-- --></A><H3>
getNextValidator</H3>
<PRE>
<A HREF="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</A> <B>getNextValidator</B>()</PRE>
<DL>
<DD>Retrive the next Validator.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the next Validator</DL>
</DD>
</DL>
<HR>

<A NAME="setNextValidator(com.tangosol.util.TransactionMap.Validator)"><!-- --></A><H3>
setNextValidator</H3>
<PRE>
void <B>setNextValidator</B>(<A HREF="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</A>&nbsp;v)</PRE>
<DL>
<DD>Set the next Validator.

 <b>Note:</b> This method cannot be called while in the middle
 of a validation (commit) phase.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>v</CODE> - the Validator to be added
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the next validator cannot be changed</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle&reg; Coherence Java API Reference<br>Release 3.7.0.0</b><br>E18683-01</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/tangosol/util/Tree.html" title="class in com.tangosol.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/tangosol/util/TransactionMap.Validator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionMap.Validator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<center>Copyright &copy; 2000, 2011, Oracle and/or its affiliates. All rights reserved.</center>
</BODY>
</HTML>
